<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
  <script src="./public/assets/js/color-modes.js"></script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.122.0">
  <title>MMW - Enbo</title>
  <link rel="shortcut icon" href="./public/assets/img/LOG-MMW.png" type="image/png">
  <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/sidebars/">



  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css" />

  <link href="./public/assets/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }

    .b-example-divider {
      width: 100%;
      height: 3rem;
      background-color: rgba(0, 0, 0, .1);
      border: solid rgba(0, 0, 0, .15);
      border-width: 1px 0;
      box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }

    .b-example-vr {
      flex-shrink: 0;
      width: 1.5rem;
      height: 100vh;
    }

    .bi {
      vertical-align: -.125em;
      fill: currentColor;
    }

    .nav-scroller {
      position: relative;
      z-index: 2;
      height: 2.75rem;
      overflow-y: hidden;
    }

    .nav-scroller .nav {
      display: flex;
      flex-wrap: nowrap;
      padding-bottom: 1rem;
      margin-top: -1px;
      overflow-x: auto;
      text-align: center;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }

    .btn-bd-primary {
      --bd-violet-bg: #712cf9;
      --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

      --bs-btn-font-weight: 600;
      --bs-btn-color: var(--bs-white);
      --bs-btn-bg: var(--bd-violet-bg);
      --bs-btn-border-color: var(--bd-violet-bg);
      --bs-btn-hover-color: var(--bs-white);
      --bs-btn-hover-bg: #6528e0;
      --bs-btn-hover-border-color: #6528e0;
      --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
      --bs-btn-active-color: var(--bs-btn-hover-color);
      --bs-btn-active-bg: #5a23c8;
      --bs-btn-active-border-color: #5a23c8;
    }

    .bd-mode-toggle {
      z-index: 1500;
    }

    .bd-mode-toggle .dropdown-menu .active .bi {
      display: block !important;
    }
  </style>


  <!-- Custom styles for this template -->
  <!-- <link href="sidebars.css" rel="stylesheet"> -->
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
    <symbol id="check2" viewBox="0 0 16 16">
      <path
        d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
    </symbol>
    <symbol id="circle-half" viewBox="0 0 16 16">
      <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
    </symbol>
    <symbol id="moon-stars-fill" viewBox="0 0 16 16">
      <path
        d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
      <path
        d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
    </symbol>
    <symbol id="sun-fill" viewBox="0 0 16 16">
      <path
        d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
    </symbol>
  </svg>

  <div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
    <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button"
      aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
      <svg class="bi my-1 theme-icon-active" width="1em" height="1em">
        <use href="#circle-half"></use>
      </svg>
      <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
    </button>
    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
      <li>
        <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light"
          aria-pressed="false">
          <svg class="bi me-2 opacity-50" width="1em" height="1em">
            <use href="#sun-fill"></use>
          </svg>
          Light
          <svg class="bi ms-auto d-none" width="1em" height="1em">
            <use href="#check2"></use>
          </svg>
        </button>
      </li>
      <li>
        <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark"
          aria-pressed="false">
          <svg class="bi me-2 opacity-50" width="1em" height="1em">
            <use href="#moon-stars-fill"></use>
          </svg>
          Dark
          <svg class="bi ms-auto d-none" width="1em" height="1em">
            <use href="#check2"></use>
          </svg>
        </button>
      </li>
      <li>
        <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto"
          aria-pressed="true">
          <svg class="bi me-2 opacity-50" width="1em" height="1em">
            <use href="#circle-half"></use>
          </svg>
          Auto
          <svg class="bi ms-auto d-none" width="1em" height="1em">
            <use href="#check2"></use>
          </svg>
        </button>
      </li>
    </ul>
  </div>


  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
    <symbol id="whatsapp" viewBox="0 0 118 94">
      <title>Whatsapp</title>
      <path
        d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232" />
    </symbol>
    <symbol id="homeicon" viewBox="0 0 16 16">
      <path
        d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z" />
    </symbol>
    <symbol id="delete" viewBox="0 0 16 16">
      <path
        d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
      <path
        d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
    </symbol>
    <symbol id="plussicon" viewBox="0 0 16 16">
      <path
        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z" />
    </symbol>
    <symbol id="salir" viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z" />
      <path fill-rule="evenodd"
        d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
    </symbol>
    <symbol id="speedometer2" viewBox="0 0 16 16">
      <path
        d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z" />
      <path fill-rule="evenodd"
        d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z" />
    </symbol>
    <symbol id="graph-up" viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z" />
    </symbol>
    <symbol id="Donate" viewBox="0 0 16 16">
      <path
        d="m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.5.5 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89zM3.777 3h8.447L8 1zM2 6v7h1V6zm2 0v7h2.5V6zm3.5 0v7h1V6zm2 0v7H12V6zM13 6v7h1V6zm2-1V4H1v1zm-.39 9H1.39l-.25 1h13.72z" />
    </symbol>
    <symbol id="table" viewBox="0 0 16 16">
      <path
        d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z" />
    </symbol>
    <symbol id="list" viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5" />
      <path
        d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z" />
    </symbol>
    <symbol id="people-circle" viewBox="0 0 16 16">
      <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
      <path fill-rule="evenodd"
        d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
    </symbol>
    <symbol id="messageicon" viewBox="0 0 16 16">
      <path
        d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
      <path
        d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
    </symbol>
    <symbol id="boticon" viewBox="0 0 16 16">
      <path
        d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5M3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.6 26.6 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.93.93 0 0 1-.765.935c-.845.147-2.34.346-4.235.346s-3.39-.2-4.235-.346A.93.93 0 0 1 3 9.219zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a25 25 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25 25 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135" />
      <path
        d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2zM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5" />
    </symbol>
    <symbol id="grid" viewBox="0 0 16 16">
      <path
        d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z" />
    </symbol>
  </svg>

  <main class="d-flex flex-nowrap">
    <h1 class="visually-hidden">Sidebars examples</h1>

    <div class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark" style="width: 280px;">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp m-2"
          viewBox="0 0 16 16">
          <path
            d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232" />
        </svg>
        <span class="fs-5 fw-bold">MMW</span>
      </a>
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a href="#home" id="home" class="nav-link text-white" aria-current="page">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#homeicon" />
            </svg>
            Home
          </a>
        </li>
        <li>
          <a href="#dashboard" id="dashboard" class="nav-link text-white">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#speedometer2" />
            </svg>
            Dashboard
          </a>
        </li>
        <!-- <li>
        <a href="#numberslist" class="nav-link text-white">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#table"/></svg>
          Data Table U
        </a>
      </li> -->
        <li>
          <a href="#numberslist" id="numberslist" class="nav-link text-white">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#list" />
            </svg>
            Numbers List
          </a>
        </li>
        <li>
          <a href="#message" id="message" class="nav-link text-white">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#messageicon" />
            </svg>
            Message
          </a>
        </li>
        <!-- <li>
          <a href="#bot" id="bot" class="nav-link text-white">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#boticon" />
            </svg>
            Bot
          </a>
        </li> -->
        <li>
          <a class="nav-link text-white" id="report" href="#report">
            <svg class="bi pe-none me-2" width="16" height="16">
              <use xlink:href="#graph-up" />
            </svg>
            Reports
          </a>
        </li>
      </ul>
      <hr>
      <div class="dropdown">
        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
          data-bs-toggle="dropdown" aria-expanded="false">
          <img src="./public/assets/img/user.png" alt="" width="32" height="32" class="rounded-circle me-2">
          <strong class="m-1">Config</strong>
        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
          <!-- <li><a class="dropdown-item" href="#">New project...</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li> -->
          <li><a class="dropdown-item text-white btn-donate" id="donate" href="#donate">
              <svg class="bi pe-none me-2" width="16" height="16">
                <use xlink:href="#Donate" />
              </svg>
              Donate
            </a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" href="#" onclick="Desconectar()">Sign out</a></li>
        </ul>
      </div>
    </div>

    <div class="b-example-divider b-example-vr"></div>

    <main class="col-md-8 ms-sm-auto col-lg-9 px-md-4">

      <section id="sectionhome" class="sectionhidden">
        <div class="container col-xxl-8 px-4 py-5">
          <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
            <!-- <div class="col-10 col-sm-8 col-lg-6">
            <img src="https://getbootstrap.com/docs/5.3/examples/heroes/bootstrap-themes.png" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
          </div> -->
            <div>
              <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">MMW: Herramienta de Envío Masivo de Mensajes
                por WhatsApp</h1>
              <p class="lead">Facilita el envío masivo de mensajes por WhatsApp con MMW. Diseña y personaliza campañas
                eficientes para llegar a tu audiencia de manera rápida y efectiva. Con MMW, puedes enviar mensajes a
                múltiples destinatarios de forma simultánea, gestionar tus contactos fácilmente y medir el rendimiento
                de tus campañas. Potencia tu comunicación y alcanza tus objetivos de manera simple y eficaz con MMW.</p>
              <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <a href="https://api.whatsapp.com/send?phone=573219316862&text=Hola%20Enbo%2C%20necesito%20soporte."
                  target="_blank" class="btn btn-primary btn-lg px-4 me-md-2">Soporte</a>
                <a href="https://www.youtube.com/playlist?list=PLi-i5VPIevjvK3GfEmElbfMdGRMJF2CiX" target="_blank"
                  class="btn btn-outline-secondary btn-lg px-4">Tutoriales</a>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="sectiondashboard" class="sectionhidden">
        <div class="container my-2">
          <div class="p-2 text-center bg-body-tertiary rounded-3">
            <!-- <img src="/qr" alt=""> -->
            <img id="qrImage" src="/qr" alt="QR Code" width="300" height="300">
            <h2 class="text-body-emphasis fw-bold">Vincular Whatsapp</h1>
              <p class="col-lg-8 mx-auto fs-5 text-muted">
                Abre WhatsApp, toca los tres puntos en la parte superior, luego selecciona 'Dispositivos vinculados' y
                después 'Vincular dispositivo'. Valida tu identidad y escanea el código.
              </p>
              <div class="d-inline-flex gap-2 mb-5">
                <h3 id="estadoConeccion"></h3>
              </div>
              <div class="d-inline-flex gap-2 mb-5">
                <button class="d-inline-flex align-items-center btn btn-primary btn-lg px-4 rounded-pill" type="button"
                  style="display: none !important ;">
                  Cerrar Sesion
                  <svg class="bi ms-2" width="24" height="24">
                    <use xlink:href="#salir" />
                  </svg>
                </button>
              </div>
          </div>
        </div>
      </section>
      <section id="sectionnumberslist" class="sectionhidden">
        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Numbers</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
              <button type="button" class="btn btn-sm btn-outline-success" data-bs-toggle="modal"
                data-bs-target="#addModal">Add Numbers</button>
              <button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal"
                data-bs-target="#importModal">Import Numbers</button>
              <button type="button" class="btn btn-sm btn-outline-danger" onclick="DeleteAllNumbers()">Delete All
                Numbers</button>
            </div>
          </div>
        </div>

        <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="importModalLabel">Add Number</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form action="">
                  <div class="mb-3">
                    <label for="nameInput" class="form-label">Name</label>
                    <input class="form-control" type="text" id="nameNumber">
                  </div>

                  <div class="mb-3">
                    <label for="PhoneInput" class="form-label">Number Phone</label>
                    <input class="form-control" type="number" id="PhoneNumber">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="SaveNumber()">Save changes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="importModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="importModalLabel">Import Numbers</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <input type="button" class="form-control btn btn-primary" value="Descargar Plantilla"
                    id="btnDescargar">
                </div>
                <div class="mb-3">
                  <label for="fileInput" class="form-label">Select file</label>
                  <input class="form-control" type="file" id="fileInput">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="leerArchivo()">Save changes</button>
              </div>
            </div>
          </div>
        </div>

        <div class="table-responsive small">
          <table class="table table-striped table-sm display" id="tablaDatos">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Number Phone</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <section id="sectionmessage" class="sectionhidden">
        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Message</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
              <button type="button" class="btn btn-sm btn-outline-success" data-bs-toggle="modal"
                data-bs-target="#addMessageModal">Add Message</button>
              <button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal"
                data-bs-target="#sendMessageModal" onclick="CargarAbreviaciones()">Send Message</button>
            </div>
          </div>
        </div>

        <div class="modal fade" id="addMessageModal" tabindex="-1" aria-labelledby="addMessageModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="addMessageModalLabel">Add Message</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                  onclick="SalirFormMessage()"></button>
              </div>
              <div class="modal-body">
                <form action="" id="formMessage" method="post" enctype="multipart/form-data">
                  <div class="mb-3">
                    <label for="nameInput" class="form-label">Abbreviation</label>
                    <input class="form-control" type="text" name="abbreviationMessage" id="abbreviationMessage">
                  </div>
                  <div class="mb-3">
                    <label for="nameInput" class="form-label">Message</label>
                    <textarea class="form-control" type="text" id="textMessage" name="textMessage" cols="30"
                      rows="10"></textarea>
                    <p>Use @nombre to add the contact name</p>
                  </div>
                  <div class="mb-3">
                    <label for="fileInput" class="form-label">Select file</label>
                    <input class="form-control" type="file" id="fileInputMessage" name="fileInputMessage">
                  </div>
                  <div class="mb-3">
                    <label for="intervalMessageInput" class="form-label">Message Interval <span>(in
                        seconds)</span></label>
                    <input class="form-control" type="number" name="intervalMessage" id="intervalMessage">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                  onclick="SalirFormMessage()">Close</button>
                <button type="button" class="btn btn-primary" onclick="SaveMessage()">Save changes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="sendMessageModal" tabindex="-1" aria-labelledby="sendMessageModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="sendMessageModalLabel">Send Mensajes</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <select class="form-select" aria-label="Default select example" id="selectAbreviaciones">
                  </select>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="SendMessage()">Send Message</button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive small">
          <table class="table table-striped table-sm" id="tablaDatosMessages">
            <thead>
              <tr>
                <th scope="col">Abreviacion</th>
                <th scope="col">Message</th>
                <th scope="col">Media</th>
                <th scope="col">URL Media</th>
                <th scope="col">Message Interval</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="modal fade" id="imgMessageModal" tabindex="-1" aria-labelledby="imgMessageLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="imgMessageLabel">Recurso</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center">
                <img src="" id="srcimgMessage" alt="" width="230" height="150">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

      </section>
      <section id="sectionbot" class="sectionhidden">
        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Bot</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
              <button type="button" class="btn btn-sm btn-outline-success" data-bs-toggle="modal"
                data-bs-target="#addFlowModal">Add Flow</button>
              <!-- <button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal"
            data-bs-target="#importFlowModal">Import Flow</button> -->
            </div>
          </div>
        </div>

        <div class="modal fade" id="addFlowModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="importModalLabel">Add Flow</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="formFlow" method="post" enctype="multipart/form-data">
                  <div class="mb-3">
                    <label for="nameInput" class="form-label">Activation Word</label>
                    <input class="form-control" type="text" name="botActivation" id="botActivation">
                  </div>
                  <div class="mb-3">
                    <label for="indicativenput" class="form-label">Reply Message</label>
                    <input class="form-control" type="text" name="botReplyMessage" id="botReplyMessage">
                  </div>
                  <!-- <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" value="" id="flowMedia" name="flowMedia">
                <label class="form-check-label" for="flexCheckDefault">
                  Add Image To Answer
                </label>
              </div> -->
                  <div class="mb-3">
                    <label for="fileInput" class="form-label">Select file</label>
                    <input class="form-control bg-info" type="file" id="fileFlowMedia" name="fileFlowMedia">
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="1" id="followFlow" name="followFlow">
                    <label class="form-check-label" for="flexCheckDefault">
                      follow flow
                    </label>
                  </div>
                  <div class="mb-3" id="contentFollowFlow">
                    <a class='text-success btn_pluss' onclick="agregarInputs()"><svg class='bi pe-none me-2' width='16'
                        height='16'>
                        <use xlink:href='#plussicon' />
                      </svg></a>
                    <!-- Contenedor de los inputs -->
                    <div id="contenedorInputs"></div>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="SaveFlow()">Save changes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive small">
          <table class="table table-striped table-sm text-center" id="tablaDatosFlows">
            <thead>
              <tr>
                <th scope="col">Words</th>
                <th scope="col">Message</th>
                <th scope="col">Media</th>
                <th scope="col">URL Media</th>
                <th scope="col">follow flow</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="modal fade" id="imgModal" tabindex="-1" aria-labelledby="imgModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="imgModalLabel">Recurso</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center">
                <img src="" id="srcimgModal" alt="" width="230" height="150">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="sigueFlujoModal" tabindex="-1" aria-labelledby="sigueFlujoLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="sigueFlujoLabel">Recurso</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center">

                <div class="table-responsive small">
                  <table class="table table-striped table-sm text-center" id="tablaDatosSigueFlows">
                    <thead>
                      <tr>
                        <th scope="col">Words</th>
                        <th scope="col">Variable to Save</th>
                        <th scope="col">Response When Saving</th>
                        <th scope="col">Actions</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="sectionreport" class="sectionhidden">
        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Report</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
              <!-- <button type="button" class="btn btn-sm btn-outline-success" data-bs-toggle="modal"
                data-bs-target="#addMessageModal">delete all reports</button> -->

              <button type="button" class="btn btn-sm btn-outline-danger" onclick="DeleteAllReport()">delete all
                reports</button>
            </div>
          </div>
        </div>
        <div class="table-responsive small">
          <table class="table table-striped table-sm" id="tablaDatosReport">
            <thead>
              <tr>
                <th scope="col">Number</th>
                <th scope="col">Message</th>
                <th scope="col">URL Media</th>
                <th scope="col">Estatus</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
      <section id="sectiondonate" class="sectionhidden">
        <div class="container mt-2">
          <h2 class="text-center">Apóyanos con una Donación</h2>
          <p class="text-center">Si deseas apoyar nuestro proyecto, puedes hacer una donación utilizando los siguientes
            medios:</p>

          <div class="row justify-content-center">
            <!-- PayPal -->
            <div class="col-md-4 text-center">
              <!-- <h4>PayPal</h4> -->
              <p>
                <a href="https://www.paypal.com/donate/?hosted_button_id=5F44JMLT3H5JQ" class="btn btn-primary"
                  target="_blank">Donar con PayPal</a>
              </p>
            </div>

            <!-- Mercado Pago -->
            <div class="col-md-4 text-center">
              <!-- <h4>Mercado Pago</h4> -->
              <p>
                <a href="https://link.mercadopago.com.co/enboortiz" class="btn btn-primary" target="_blank">Donar con
                  Mercado Pago</a>
              </p>
            </div>
          </div>

          <div class="row justify-content-center mt-4">
            <div class="col-md-8">
              <h4 class="text-center">Para Colombia</h4>
              <p class="text-center">Si estás en Colombia, puedes donar a través de los siguientes medios:</p>

              <ul class="list-group">
                <li class="list-group-item">
                  <h5>Nequi o Daviplata</h5>
                  <p>Número: 3202531501</p>
                </li>
                <li class="list-group-item">
                  <h5>Bancolombia</h5>
                  <p>Cuenta de Ahorros: 07971596834</p>
                </li>
              </ul>
            </div>
          </div>

          <div class="row justify-content-center mt-4 mb-4">
            <div class="col-md-8 text-center">
              <h4>¿Tienes problemas?</h4>
              <p>Si tienes problemas para donar, escríbenos y te generamos un enlace personalizado:</p>
              <a href="https://api.whatsapp.com/send?phone=573219316862&text=Hola%20Enbo%2C%20quiero%20donarte."
                target="_blank" class="btn btn-info">Contáctanos</a>
            </div>
          </div>
        </div>
      </section>
    </main>

  </main>
  <!-- Loader Popup -->
  <div class="modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" id="loaderModal" tabindex="-1"
    role="dialog">
    <div class="modal-dialog modal-sm " role="document">
      <div class="modal-content">
        <div class="modal-body text-center">
          <p>Espere Mientras se cargan los datos</p>
          <div class="spinner-border text-primary" role="status">
            <!-- <span class="sr-only">Loading...</span> -->
          </div>
          <p>Cargando datos...</p>
        </div>
      </div>
    </div>
  </div>

  <script src="./public/assets/dist/js/bootstrap.bundle.min.js"></script>

  <script src="./public/assets/js/sidebars.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.1/xlsx.full.min.js"></script>
  <script>
    var numerosAgregados = 0;
    var proveedorConect = false
    var abreviacionesMessage = []
    var reportesMessage = false
    var reportesNumbers = false
    document.addEventListener("DOMContentLoaded", function () {
      if (window.localStorage.token == "" || window.localStorage.token == undefined) {
        window.location.href = "/"
      }
      // Inicializa DataTable
      // var table = $('#tablaDatos').DataTable();
      const links = document.querySelectorAll('.nav-link');

      const btnDonate = document.querySelector('.btn-donate');

      // Convierte NodeList de navLinks en un array
      const navLinksArray = Array.from(navLinks);

      // Agrega btnDonate al array
      if (btnDonate) {
        navLinksArray.push(btnDonate);
      }
      document.querySelectorAll('.sectionhidden').forEach(section => {
        section.style.display = 'none';
      });
      // console.log(navLinksArray);
      navLinksArray.forEach(link => {
        link.addEventListener('click', function (event) {
          event.preventDefault();

          // Ocultar todas las secciones de contenido
          document.querySelectorAll('.sectionhidden').forEach(section => {
            section.style.display = 'none';
          });

          // Obtener el ID de la sección de contenido correspondiente al enlace
          const targetId = this.getAttribute('href').replace('#', '');

          // Mostrar la sección de contenido correspondiente
          document.getElementById("section" + targetId).style.display = 'block';
        });
      });
      // document.querySelectorAll('.btn-donate')[0].addEventListener('click', function (event) {
      //     event.preventDefault();

      //     // Ocultar todas las secciones de contenido
      //     document.querySelectorAll('.sectionhidden').forEach(section => {
      //       section.style.display = 'none';
      //     });

      //     // Obtener el ID de la sección de contenido correspondiente al enlace
      //     const targetId = this.getAttribute('href').replace('#', '');

      //     // Mostrar la sección de contenido correspondiente
      //     document.getElementById("section" + targetId).style.display = 'block';
      //   });
      const valorMenu = localStorage.getItem("menu");
      // console.log("Menu: " + valorMenu)
      if (valorMenu != "") {

        // document.getElementById(valorMenu).classList.add('active');
        document.getElementById(valorMenu).click();
        document.getElementById("section" + valorMenu).style.display = 'block'
      } else {
        // console.log("Entreo else")
        document.getElementById("home").click()
        document.getElementById("sectionhome").style.display = 'block'
      }



    });

    // Obtener todos los elementos <a> dentro de la lista
    const navLinks = document.querySelectorAll('.nav-link');
    let intervalId;

    // Selecciona el elemento con la clase 'btn-donate'
    const btnDonate = document.querySelector('.btn-donate');

    // Convierte NodeList de navLinks en un array
    const navLinksArray = Array.from(navLinks);

    // Agrega btnDonate al array
    if (btnDonate) {
      navLinksArray.push(btnDonate);
    }
    // Agregar un evento de clic a cada elemento <a>
    navLinksArray.forEach(link => {
      link.addEventListener('click', function (event) {
        // Evitar que el enlace se comporte como un enlace normal
        event.preventDefault();

        // Eliminar la clase 'active' de todos los elementos <a> dentro de la lista
        navLinks.forEach(navLink => {
          navLink.classList.remove('active');
        });

        // Agregar la clase 'active' solo al elemento <a> que se hizo clic
        this.classList.add('active');
        localStorage.setItem("menu", this.id);
      });
    });
    document.getElementById("dashboard").addEventListener('click', function (event) {
      //validar estado de coneccion
      // Ejecuta la función ConsultaConnect cada 3 segundos
      intervalId = setInterval(ConsultaConnect, 3000); // 3000 milisegundos = 3 segundos

    })
    document.getElementById("numberslist").addEventListener('click', function (event) {
      // $('#tablaDatos').DataTable()
      if (intervalId) {
        clearInterval(intervalId);
      }
      // InportNumbersWhatsapp()
      $("#tablaDatos tbody").empty();
      Numbers()
      // window.location.href = "/dashboard"
    })

    /*document.getElementById("bot").addEventListener('click', function (event) {
      $("#tablaDatosFlows tbody").empty();
      Flows()
      if (intervalId) {
        clearInterval(intervalId);
      }
    })*/
    document.getElementById("message").addEventListener('click', function (event) {
      abreviacionesMessage = []
      $("#tablaDatosMessages tbody").empty();
      Messages()
      if (intervalId) {
        clearInterval(intervalId);
      }
    })
    document.getElementById("report").addEventListener('click', function (event) {
      $("#tablaDatosReport tbody").empty();
      ReportMessage()
      if (intervalId) {
        clearInterval(intervalId);
      }
    })
    //flow

    const checkbox = document.getElementById("followFlow");
    const contentFollowFlow = document.getElementById("contentFollowFlow");

    // Función para mostrar u ocultar el div según el estado del checkbox
    function toggleContentFollowFlow() {
      if (checkbox.checked) {
        contentFollowFlow.style.display = "block";
      } else {
        contentFollowFlow.style.display = "none";
      }
    }

    function InportNumbersWhatsapp() {
      if (window.localStorage.proveedor && !window.localStorage.ImportWhatsapp) {
        confirmar = confirm("¿hay un proveedor conectado, Desea que importemos los conectos y grupos a lista de Números?")

        if (confirmar) {
          ImportWhatsapp()
        }
      }
    }
    // Agregar un evento de cambio al checkbox para llamar a la función cuando cambie su estado
    checkbox.addEventListener("change", toggleContentFollowFlow);

    // Llamar a la función inicialmente para asegurarse de que el div se muestre u oculte correctamente al cargar la página
    toggleContentFollowFlow();
    let contadorInputs = 0;

    function agregarInputs() {
      contadorInputs++;

      const nuevoDiv = document.createElement("div");
      nuevoDiv.id = `input${contadorInputs}`;
      nuevoDiv.classList.add("ContenidoFlow");
      nuevoDiv.setAttribute("name", `input${contadorInputs}`);
      nuevoDiv.innerHTML = `
    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="nombre-${contadorInputs}" name="nombreCampo" placeholder="Nombre">
      <label for="nombre-${contadorInputs}">name to store the data</label>
    </div>
    <div class="form-floating mb-3">
      <textarea class="form-control" id="mensaje-${contadorInputs}" name="mensajeResponse" placeholder="Mensaje ..."></textarea>
      <label for="mensaje-${contadorInputs}">response message</label>
    </div>
    <button class="btn btn-danger" onclick="eliminarInput(${contadorInputs})">Eliminar</button>
    <hr>
  `;

      document.getElementById("contenedorInputs").appendChild(nuevoDiv);
    }

    function eliminarInput(id) {
      const divEliminar = document.getElementById(`input${id}`);
      divEliminar.remove();
    }

    // Obtener el input
    const input = document.getElementById('botActivation');

    // Escuchar el evento blur
    input.addEventListener('blur', () => {
      // Obtener el valor del input
      const valor = input.value.trim();
      // console.log(valor)
      const valorLimpio = valor.replace(/"/g, '');

      // console.log(valorLimpio)
      // Dividir el valor por comas y agregar comillas dobles a cada parte
      const partes = valorLimpio.split(',').map(parte => `"${parte.trim()}"`);

      // Unir las partes con comas nuevamente
      const nuevoValor = partes.join(', ');

      // Actualizar el valor del input
      input.value = nuevoValor;
    });

    function ConsultaConnect() {
      const apiUrl = "/proveedor";

      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        }
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          // console.log(data)
          if (data.Type == true) {
            // console.log(data)
            proveedorConect = data.Type
            window.localStorage.proveedor = data.Type
            $("#estadoConeccion").html(data.message)
          } else {
            proveedorConect = data.Type
            window.localStorage.proveedor = ""
            $("#estadoConeccion").html("")
          }

        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }

    function ImportWhatsapp() {
      const apiUrl = "/import-numbers-whatsapp";

      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        }
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          // console.log(data)
          if (data.Type == true) {
            alert(data.message)
            window.localStorage.ImportWhatsapp = data.Type
            $("#tablaDatos tbody").empty();
            Numbers();
          } else {
            alert(data.message)
          }

        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }

    async function Numbers() {

      const apiUrl = "/numbers";

      const token = window.localStorage.getItem('token');

      // Configurar las opciones de la petición incluyendo el token en los headers
      const requestOptions = {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        }
      };
      // Ocultar la tabla mientras se cargan los datos
      // $('#tablaDatos').hide();
      // Ocultar la tabla inicialmente
      // $('#loaderModal').show();
      // // Mostrar el modal del loader
      $('#loaderModal').modal('show');
      await fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          reportesNumbers = data.Type;
          if (data.Type == true) {

            // console.log(data)

            /// Supongamos que 'data' es la respuesta de tu solicitud AJAX
            var table = $('#tablaDatos').DataTable();

            // Limpia la tabla antes de agregar nuevas filas (opcional)
            table.clear().draw();

            // Itera sobre los datos y agrega filas a la tabla
            $.each(data.Data, function (index, item) {
              table.row.add([
                item.nombre,
                item.numero_cel,
                "<a class='text-danger' onclick='DeleteNumber(" + item.id + ", this)'><svg class='bi pe-none me-2' width='16' height='16'><use xlink:href='#delete'/></svg></a>"
              ]).draw(false);
            });
            // Ocultar la tabla inicialmente
            // $('#tablaDatos').css('display', 'block');
            // $('#tablaDatos').show();
            // $('#loaderModal').css('display', 'none');
            $('#loaderModal').modal('hide');
            // });
          } else {
            $('#loaderModal').modal('hide');
            alert(data.message);
            //  return false;
          }
          //            // Ocultar el modal del loader
          // $('#loadingModal').modal('hide');
        })
        .catch((error) => {
          // Ocultar el modal del loader en caso de error
          $('#loadingModal').modal('hide');
          console.log("Error:", error);
        });
      //  return false;
    }

    function SaveNumber() {
      const apiUrl = "/save-number";

      const name = document.getElementById("nameNumber").value;
      const numero_cel = document.getElementById("PhoneNumber").value;
      if (name == "") {
        alert("Complete los campos Name");
        document.getElementById("nameNumber").style.backgroundColor = "yellow";
        return false;
      } else {
        document.getElementById("nameNumber").style.backgroundColor = "";
      }
      if (numero_cel == "") {
        alert("Complete los campos Numero de Telefono");
        document.getElementById("PhoneNumber").style.backgroundColor = "yellow";
        return false;
      } else {
        document.getElementById("PhoneNumber").style.backgroundColor = "";
      }
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify({ name, numero_cel }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          reportesNumbers = data.Type;
          if (data.Type == true) {
            alert(data.message);;
            var table = $('#tablaDatos').DataTable();
            table.row.add([
              name,
              numero_cel,
              "<a class='text-danger' onclick='DeleteNumber(" + data.Data.insertId + ", this)'><svg class='bi pe-none me-2' width='16' height='16'><use xlink:href='#delete'/></svg></a>"
            ]).draw(false);
            // console.log(data.Data);
            document.getElementById("nameNumber").value = "";
            document.getElementById("PhoneNumber").value = "";
            // $("#tablaDatos tbody").empty();
            // numerosAgregados++;
            // Numbers();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }
    function SaveFlow() {
      const apiUrl = "/save-flow";
      var formulario = document.getElementById('formFlow');
      var datos = new FormData(formulario);

      // console.log(datos)
      fetch(apiUrl, {
        method: 'POST',
        body: datos
      })
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);
            // Limpiar el formulario
            formulario.reset();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      return false;
    }

    function DeleteNumber(id, element) {
      const apiUrl = "/delete-number";
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          if (data.Type == true) {

            alert(data.message);
            // $("#tablaDatos tbody").empty();
            // Numbers();
            var table = $('#tablaDatos').DataTable();
            // console.log($(element).parents('tr'));
            table.row($(element).parents('tr')).remove().draw();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }



    function FlowsContinuos(id) {
      $("#tablaDatosSigueFlows tbody").empty();
      const apiUrl = "/flows-continuos";

      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            // console.log(data)
            // $.getJSON(data.Data, function (datos) {
            //   console.log(datos)
            // Itera sobre los datos y agrega filas a la tabla
            $.each(data.Data, function (index, item) {



              var fila = "<tr><td>" + item.palabra + "</td><td>" + item.variableguardar + "</td><td>" + item.respuestaAlGuardar + "</td><td><a  class='text-danger' onclick='DeleteFlowsContinuos(" + item.id + ")'><svg class='bi pe-none me-2' width='16' height='16' ><use xlink:href='#delete'/></svg></a></td></tr>";
              $("#tablaDatosSigueFlows tbody").append(fila);
            });
            $('#tablaDatosSigueFlows').DataTable();
            // });
          } else {
            alert(data.message);
            //  return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }

    function Flows() {
      const apiUrl = "/flows";
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        }
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            // console.log(data)
            // $.getJSON(data.Data, function (datos) {
            //   console.log(datos)
            // Itera sobre los datos y agrega filas a la tabla
            $.each(data.Data, function (index, item) {

              // Obtener la posición de la primera ocurrencia de "public" en la cadena
              var index = item.urlMedia.indexOf('public');
              var rutaRelativa = ""
              var descriptionRutaR = ""
              // console.log(index)
              // Verificar si se encontró la cadena "public"
              if (index !== -1) {
                // Obtener la subcadena que sigue a la posición de "public"
                rutaRelativa = item.urlMedia.substring(index);
                descriptionRutaR = "Ver Media"
              }
              var descriptionSigueF = ""
              if (item.sigueFlujo == 1) {
                descriptionSigueF = "Ver Flujo"
              }
              rutaRelativa = rutaRelativa.replace(/\\/g, '\\\\');
              const rutaRelativaHTML = `<a href="#"  data-bs-toggle="modal"
                data-bs-target="#imgModal" onclick="CargarImg('./${rutaRelativa}', 'imgModal')">${descriptionRutaR}</a>`;

              const sigueFlujoHTML = `<a href="#"  data-bs-toggle="modal"
                data-bs-target="#sigueFlujoModal" onclick="FlowsContinuos('${item.id}')" >${descriptionSigueF}</a>`;

              var fila = "<tr><td>" + item.palabra + "</td><td>" + item.messageResponse + "</td><td>" + item.media + "</td><td>" + rutaRelativaHTML + "</td><td>" + sigueFlujoHTML + "</td><td><a  class='text-danger' onclick='DeleteFlows(" + item.id + ")'><svg class='bi pe-none me-2' width='16' height='16' ><use xlink:href='#delete'/></svg></a></td></tr>";
              $("#tablaDatosFlows tbody").append(fila);
            });
            $('#tablaDatosFlows').DataTable();
            // });
          } else {
            alert(data.message);
            //  return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }

    function Messages() {
      const apiUrl = "/messages";
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        }
      };
      $('#loaderModal').modal('show');
      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {


            /// Supongamos que 'data' es la respuesta de tu solicitud AJAX
            var table = $('#tablaDatosMessages').DataTable();

            // Limpia la tabla antes de agregar nuevas filas (opcional)
            table.clear().draw();

            // Itera sobre los datos y agrega filas a la tabla
            $.each(data.Data, function (index, item) {

              // Obtener la posición de la primera ocurrencia de "public" en la cadena
              var index = item.urlMedia.indexOf('public');
              var rutaRelativa = ""
              var descriptionRutaR = ""
              // Verificar si se encontró la cadena "public"
              if (index !== -1) {
                // Obtener la subcadena que sigue a la posición de "public"
                rutaRelativa = item.urlMedia.substring(index);
                descriptionRutaR = "Ver Media"
                // console.log(rutaRelativa); // public\assets\Files\svgviewer-png-output (1).png
              }
              abreviacionesMessage.push(item.id + '-' + item.abreviacion)
              rutaRelativa = rutaRelativa.replace(/\\/g, '\\\\');
              const rutaRelativaHTML = `<a href="#"  data-bs-toggle="modal"
                data-bs-target="#imgMessageModal" onclick="CargarImg('./${rutaRelativa}', 'imgMessage')">${descriptionRutaR}</a>`;


              table.row.add([
                item.abreviacion,
                item.message,
                item.media,
                rutaRelativaHTML,
                item.intervaloMessage,
                "<a  class='text-danger' onclick='DeleteMessages(" + item.id + ")'><svg class='bi pe-none me-2' width='16' height='16' ><use xlink:href='#delete'/></svg></a>"
              ]).draw(false);
            });
            $('#loaderModal').modal('hide');
          } else {
            $('#loaderModal').modal('hide');
            alert(data.message);
            //  return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }


    function leerArchivo() {
      // Obtén el elemento input de tipo file
      var input = document.getElementById('fileInput');

      // Asegúrate de que se haya seleccionado un archivo
      if (input.files.length > 0) {
        // Obtiene el primer archivo seleccionado
        var archivo = input.files[0];

        // Crea un lector de archivos
        var lector = new FileReader();

        // Configura la función de devolución de llamada cuando la lectura se haya completado
        lector.onload = function (e) {
          var contenido = e.target.result;
          // Procesa el contenido del archivo .xlsx
          procesarArchivoXLSX(contenido);
        };

        // Lee el contenido del archivo como una cadena binaria
        lector.readAsBinaryString(archivo);
      } else {
        alert('Por favor, selecciona un archivo .xlsx.');
      }
    }

    function procesarArchivoXLSX(contenido) {
      // Convierte la cadena binaria a un objeto de libro de trabajo (workbook)
      var libroTrabajo = XLSX.read(contenido, { type: 'binary' });

      // Obtiene la primera hoja del libro de trabajo
      var primeraHoja = libroTrabajo.SheetNames[0];

      // Obtiene los datos de la hoja como un objeto
      var datos = XLSX.utils.sheet_to_json(libroTrabajo.Sheets[primeraHoja]);

      // Muestra los datos en la consola (puedes ajustar esta parte según tus necesidades)
      console.log(datos);

      crearArchivoJSON(datos)


    }
    function crearArchivoJSON(datos) {
      // Convierte los datos a formato JSON
      var contenidoJSON = JSON.stringify(datos, null, 2);

      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify(datos),
      };
      // Realiza una solicitud POST al servidor para guardar el archivo
      fetch('/save-number-plantilla', requestOptions).then((response) => {
        return response.json();
      })
        .then(response => {
          if (response.Type) {

            alert(response.message)
            document.getElementById('fileInput').value = "";
            Numbers();

          } else {
            alert(response.message)
          }

          // window.location.reload();
          // $("#tablaDatos tbody").empty();
        })
        .catch(error => {
          console.log(error);
        });
    }

    document.getElementById('btnDescargar').addEventListener('click', function () {
      // Ruta del archivo que quieres descargar
      var rutaArchivo = './public/assets/Plantillas/Plantilla_MMW.xlsx'; // Reemplaza con tu ruta y nombre de archivo

      // Crea un enlace temporal
      var enlaceDescarga = document.createElement('a');
      enlaceDescarga.href = rutaArchivo;

      // Establece el atributo "download" para indicar que es un enlace de descarga
      enlaceDescarga.download = 'Plantilla_MMW.xlsx'; // Puedes personalizar el nombre de descarga

      // Añade el enlace al cuerpo del documento
      document.body.appendChild(enlaceDescarga);

      // Simula un clic en el enlace para iniciar la descarga
      enlaceDescarga.click();

      // Elimina el enlace después de la descarga
      document.body.removeChild(enlaceDescarga);
    });

    function CargarImg(params, id) {
      console.log(params)
      document.getElementById("src" + id).src = params
    }

    function SaveMessage() {
      const apiUrl = "/save-message";
      var formulario = document.getElementById('formMessage');
      var datos = new FormData(formulario);

      var valid = true;

      for (var pair of datos.entries()) {
        if (pair[0] != "fileInputMessage") {
          if (pair[1].trim() === '') {
            alert(`El campo ${pair[0]} no puede estar vacío`);
            document.getElementById(pair[0]).style.backgroundColor = "yellow"
            valid = false;
            break;
          } else {
            document.getElementById(pair[0]).style.backgroundColor = ""
          }
        }
      }

      if (!valid) {
        return
      }

      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Authorization": `Bearer ${token}`
        },
        body: datos,
      };

      console.log(datos)
      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);

            // Limpiar el formulario
            formulario.reset();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      return false;
    }

    function CargarAbreviaciones() {
      console.log(abreviacionesMessage)
      const selectAbreviaciones = document.getElementById("selectAbreviaciones");

      // Limpiar el select
      selectAbreviaciones.innerHTML = "";

      // Agregar una opción por defecto
      if (abreviacionesMessage.length > 0) {
        const defaultOption = document.createElement("option");
        defaultOption.textContent = "select message to send";
        defaultOption.value = 0
        selectAbreviaciones.appendChild(defaultOption);

        // Iterar sobre el arreglo y agregar opciones al select
        abreviacionesMessage.forEach(abreviacion => {
          const option = document.createElement("option");
          abreviacion = abreviacion.split("-")
          option.value = abreviacion[0]; // Asignar el valor del ID o cualquier otro valor que desees
          option.textContent = abreviacion[1]; // Asignar el texto de la opción
          selectAbreviaciones.appendChild(option);
        });
      }
    }
    function SendMessage() {

      const selectAbreValue = document.getElementById("selectAbreviaciones").value;

      if (selectAbreValue != 0) {
        confirmacion = confirm("¿Estas seguro de enviar el mensaje? ")
        if (confirmacion) {
          const apiUrl = "/send-messages";

          const token = window.localStorage.getItem('token');
          const requestOptions = {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "Authorization": `Bearer ${token}`
            },
            body: JSON.stringify({ Abreviacion: selectAbreValue }),
          };
          fetch(apiUrl, requestOptions)
            .then((response) => {
              return response.json();
            })
            .then((data) => {
              if (data.Type == true) {
                alert(data.message);
              } else {
                alert(data.message);
              }
            })
            .catch((error) => {
              console.log("Error:", error);
            });
        }
      } else {
        alert("You must select an option from the list")
      }

    }

    function ReportMessage() {
      const apiUrl = "/report";

      const token = window.localStorage.getItem('token');

      // Configurar las opciones de la petición incluyendo el token en los headers
      const requestOptions = {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        }
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          reportesMessage = data.Type
          if (data.Type == true) {
            // Itera sobre los datos y agrega filas a la tabla
            $.each(data.Data, function (index, item) {

              // Obtener la posición de la primera ocurrencia de "public" en la cadena
              var index = item.urlMedia.indexOf('public');
              var rutaRelativa = ""
              var descriptionRutaR = ""
              // console.log(index)
              // Verificar si se encontró la cadena "public"
              if (index !== -1) {
                // Obtener la subcadena que sigue a la posición de "public"
                rutaRelativa = item.urlMedia.substring(index);
                descriptionRutaR = "Ver Media"
                console.log(rutaRelativa); // public\assets\Files\svgviewer-png-output (1).png
              }
              if (item.estadoEnvio == "1") {
                item.estadoEnvio = "Ok"
              }
              rutaRelativa = rutaRelativa.replace(/\\/g, '\\\\');
              const rutaRelativaHTML = `<a href="#"  data-bs-toggle="modal"
                data-bs-target="#imgMessageModal" onclick="CargarImg('./${rutaRelativa}', 'imgMessage')">${descriptionRutaR}</a>`;

              var fila = "<tr><td>" + item.numero_cel + "</td><td>" + item.message + "</td><td>" + rutaRelativaHTML + "</td><td>" + item.estadoEnvio + "</td><td><a  class='text-danger' onclick='DeleteReport(" + item.id + ")'><svg class='bi pe-none me-2' width='16' height='16' ><use xlink:href='#delete'/></svg></a></td></tr>";
              $("#tablaDatosReport tbody").append(fila);
            });
            $('#tablaDatosReport').DataTable();
            // });
          } else {
            alert(data.message);
            //  return false;
          }
        })
        .catch((error) => {
          console.log("Error:", error);
        });
      //  return false;
    }

    function DeleteMessages(id) {
      const apiUrl = "/delete-message";
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);
            $("#tablaDatosMessages tbody").empty();
            Messages();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }

    function DeleteFlows(id) {
      const apiUrl = "/delete-flows";
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);
            $("#tablaDatosFlows tbody").empty();
            Flows();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }

    function DeleteFlowsContinuos(id) {
      const apiUrl = "/delete-flows-continuos";
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);
            $("#tablaDatosSigueFlows tbody").empty();
            FlowsContinuos();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }

    function DeleteReport(id) {
      const apiUrl = "/delete-report";
      const token = window.localStorage.getItem('token');
      const requestOptions = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify({ id }),
      };

      fetch(apiUrl, requestOptions)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          if (data.Type == true) {
            alert(data.message);
            $("#tablaDatosReport tbody").empty();
            ReportMessage();
          } else {
            alert(data.message);
            return false;
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
      return false;
    }
    function Desconectar() {
      window.localStorage.token = ""
      window.location.href = "/"
    }
    function reloadImage() {
      const image = document.getElementById('qrImage');
      image.src = '/qr?' + Math.random(); // Agrega un parámetro aleatorio para evitar el almacenamiento en caché
    }
    setInterval(reloadImage, 30000);
    function SalirFormMessage() {
      Messages()
    }
    function DeleteAllReport() {
      debugger
      if (!reportesMessage) {
        alert("No hay reportes a Eliminar")
        return
      }
      let confirmarcion = confirm("Esta Seguro de Eliminar Todos los Reportes")

      if (confirmarcion) {

        const apiUrl = "/delete-all-reports";
        const token = window.localStorage.getItem('token');
        const requestOptions = {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${token}`
          }
        };

        fetch(apiUrl, requestOptions)
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            if (data.Type == true) {
              alert(data.message);

              var table = $('#tablaDatosReport').DataTable();

              // Vaciar la tabla
              table.clear().draw();
              ReportMessage();
            } else {
              alert(data.message);
              return false;
            }
          })
          .catch((error) => {
            console.error("Error:", error);
          });

      }
      return false;
    }

    function DeleteAllNumbers() {
      debugger
      var table = $('#tablaDatos').DataTable();

      // Obtiene los datos de la tabla
      var data = table.data();
      // Comprueba si hay datos
      if (data.length == 0) {
        // if (!reportesNumbers) {
        alert("No hay Números a Eliminar")
        return
      }
      let confirmarcion = confirm("Esta Seguro de Eliminar Todos los Números")

      if (confirmarcion) {

        const apiUrl = "/delete-all-numbers";
        const token = window.localStorage.getItem('token');
        const requestOptions = {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${token}`
          },
          body: JSON.stringify({})
        };

        fetch(apiUrl, requestOptions)
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            if (data.Type == true) {
              alert(data.message);

              var table = $('#tablaDatos').DataTable();

              // Vaciar la tabla
              table.clear().draw();
              Numbers();
            } else {
              alert(data.message);
              return false;
            }
          })
          .catch((error) => {
            console.error("Error:", error);
          });

      }
      return false;
    }
  </script>
</body>

</html>